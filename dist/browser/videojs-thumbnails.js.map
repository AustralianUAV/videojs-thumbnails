{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "node_modules/global/window.js",
    "src/js/index.js"
  ],
  "names": [],
  "mappings": "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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()",
    "var win;\n\nif (typeof window !== \"undefined\") {\n    win = window;\n} else if (typeof global !== \"undefined\") {\n    win = global;\n} else if (typeof self !== \"undefined\"){\n    win = self;\n} else {\n    win = {};\n}\n\nmodule.exports = win;\n",
    "'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar videojs = _interopDefault(require('video.js'));\nvar global = require('global');\n\nclass ThumbnailHelpers {\r\n\r\n  static hidePlayerOnHoverTime(progressControl) {\r\n    const mouseTime = progressControl.el_.getElementsByClassName('vjs-mouse-display')[0];\r\n\r\n    mouseTime.style.display = 'none';\r\n  }\r\n\r\n  static createThumbnails(...args) {\r\n    const thumbnailClip = args.shift() || {};\r\n\r\n    Object.keys(args).map((i) => {\r\n      const singleThumbnail = args[i];\r\n\r\n      Object.keys(singleThumbnail).map((property) => {\r\n        if (singleThumbnail.hasOwnProperty(property)) {\r\n          if (typeof singleThumbnail[property] === 'object') {\r\n            thumbnailClip[property] = ThumbnailHelpers.createThumbnails(thumbnailClip[property],\r\n                                                singleThumbnail[property]);\r\n          } else {\r\n            thumbnailClip[property] = singleThumbnail[property];\r\n          }\r\n        }\r\n        return thumbnailClip;\r\n      });\r\n      return thumbnailClip;\r\n    });\r\n    return thumbnailClip;\r\n  }\r\n\r\n  static getComputedStyle(thumbnailContent, pseudo) {\r\n    return (prop) => {\r\n      if (global.window.getComputedStyle) {\r\n        return global.window.getComputedStyle(thumbnailContent, pseudo)[prop];\r\n      }\r\n      return thumbnailContent.currentStyle[prop];\r\n    };\r\n  }\r\n\r\n  static getVisibleWidth(thumbnailContent, width) {\r\n    if (width) {\r\n      return parseFloat(width);\r\n    }\r\n\r\n    let clip = ThumbnailHelpers.getComputedStyle(thumbnailContent)('clip');\r\n\r\n    if (clip !== 'auto' && clip !== 'inherit') {\r\n      clip = clip.split(/(?:\\(|\\))/)[1].split(/(?:,| )/);\r\n      if (clip.length === 4) {\r\n        return (parseFloat(clip[1]) - parseFloat(clip[3]));\r\n      }\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  static getScrollOffset() {\r\n    if (global.window.pageXOffset) {\r\n      return {\r\n        x: global.window.pageXOffset,\r\n        y: global.window.pageYOffset\r\n      };\r\n    }\r\n    return {\r\n      x: global.document.documentElement.scrollLeft,\r\n      y: global.document.documentElement.scrollTop\r\n    };\r\n  }\r\n\r\n  static suportAndroidEvents(player) {\r\n    // Android doesn't support :active and :hover on non-anchor and non-button elements\r\n    // so, we need to fake the :active selector for thumbnails to show up.\r\n    const progressControl = player.controlBar.progressControl;\r\n\r\n    const addFakeActive = () => {\r\n      progressControl.addClass('fake-active');\r\n    };\r\n\r\n    const removeFakeActive = () => {\r\n      progressControl.removeClass('fake-active');\r\n    };\r\n\r\n    progressControl.on('touchstart', addFakeActive);\r\n    progressControl.on('touchend', removeFakeActive);\r\n    progressControl.on('touchcancel', removeFakeActive);\r\n  }\r\n\r\n  static createThumbnaislHolder() {\r\n    const wrap = global.document.createElement('div');\r\n\r\n    wrap.className = 'vjs-thumbnail-holder';\r\n    return wrap;\r\n  }\r\n\r\n  static createThumbnailImg(thumbnailClips) {\r\n    const thumbnailImg = global.document.createElement('img');\r\n\r\n    thumbnailImg.src = thumbnailClips['0'].src;\r\n    thumbnailImg.className = 'vjs-thumbnail-img';\r\n    return thumbnailImg;\r\n  }\r\n\r\n  static createThumbnailTime() {\r\n    const time = global.document.createElement('div');\r\n\r\n    time.className = 'vjs-thumbnail-time';\r\n    time.id = 'vjs-time';\r\n    return time;\r\n  }\r\n\r\n  static createThumbnailArrowDown() {\r\n    const arrow = global.document.createElement('div');\r\n\r\n    arrow.className = 'vjs-thumbnail-arrow';\r\n    arrow.id = 'vjs-arrow';\r\n    return arrow;\r\n  }\r\n\r\n  static mergeThumbnailElements(thumbnailsHolder,\r\n                                thumbnailImg,\r\n                                timelineTime,\r\n                                thumbnailArrowDown) {\r\n\r\n    thumbnailsHolder.appendChild(thumbnailImg);\r\n    thumbnailsHolder.appendChild(timelineTime);\r\n    thumbnailsHolder.appendChild(thumbnailArrowDown);\r\n    return thumbnailsHolder;\r\n  }\r\n\r\n  static centerThumbnailOverCursor(thumbnailImg) {\r\n    // center the thumbnail over the cursor if an offset wasn't provided\r\n    if (!thumbnailImg.style.left && !thumbnailImg.style.right) {\r\n      thumbnailImg.onload = () => {\r\n        const thumbnailWidth = { width: -(thumbnailImg.naturalWidth / 2) };\r\n\r\n        thumbnailImg.style.left = `${thumbnailWidth}px`;\r\n      };\r\n    }\r\n  }\r\n\r\n  static getVideoDuration(player) {\r\n    let duration = player.duration();\r\n\r\n    player.on('durationchange', () => {\r\n      duration = player.duration();\r\n    });\r\n    return duration;\r\n  }\r\n\r\n  static addThumbnailToPlayer(progressControl, thumbnailsHolder) {\r\n    progressControl.el().appendChild(thumbnailsHolder);\r\n  }\r\n\r\n  static findMouseLeftOffset(pageMousePositionX, progressControl, pageXOffset, event) {\r\n    // find the page offset of the mouse\r\n    let leftOffset = pageMousePositionX || (event.clientX +\r\n                     global.document.body.scrollLeft + global.document.documentElement.scrollLeft);\r\n\r\n    // subtract the page offset of the positioned offset parent\r\n    leftOffset -= progressControl.el().\r\n                  getBoundingClientRect().left + pageXOffset;\r\n    return leftOffset;\r\n  }\r\n\r\n  static getMouseVideoTime(mouseLeftOffset, progressControl, duration) {\r\n    return Math.floor((mouseLeftOffset /*- progressControl.el().offsetLeft*/) /\r\n           progressControl.width() * duration);\r\n  }\r\n\r\n  static updateThumbnailTime(timelineTime, progressControl) {\r\n    timelineTime.innerHTML = (progressControl.seekBar.mouseTimeDisplay.timeTooltip.el_.textContent);\r\n  }\r\n\r\n  static getPageMousePositionX(event) {\r\n    let pageMouseOffsetX = event.pageX;\r\n\r\n    if (event.changedTouches) {\r\n      pageMouseOffsetX = event.changedTouches[0].pageX;\r\n    }\r\n    return pageMouseOffsetX;\r\n  }\r\n\r\n  static keepThumbnailInsidePlayer(thumbnailImg,\r\n                                   activeThumbnail,\r\n                                   thumbnailClips,\r\n                                   mouseLeftOffset,\r\n                                   progresBarRightOffset) {\r\n\r\n    const width = ThumbnailHelpers.getVisibleWidth(thumbnailImg, activeThumbnail.width ||\r\n                  thumbnailClips[0].width);\r\n\r\n    const halfWidth = width / 2;\r\n\r\n    // make sure that the thumbnail doesn't fall off the right side of\r\n    // the left side of the player\r\n    if ((mouseLeftOffset + halfWidth) > progresBarRightOffset) {\r\n      mouseLeftOffset -= (mouseLeftOffset + halfWidth) - progresBarRightOffset;\r\n    } else if (mouseLeftOffset < halfWidth) {\r\n      mouseLeftOffset = halfWidth;\r\n    }\r\n    return mouseLeftOffset;\r\n  }\r\n\r\n  static updateThumbnailLeftStyle(mouseLeftOffset, thumbnailsHolder) {\r\n    const leftValue = { mouseLeftOffset };\r\n\r\n    thumbnailsHolder.style.left = `${leftValue.mouseLeftOffset}px`;\r\n  }\r\n\r\n  static getActiveThumbnail(thumbnailClips, mouseTime) {\r\n    let activeClip = 0;\r\n\r\n    for (const clipNumber in thumbnailClips) {\r\n      if (mouseTime > clipNumber) {\r\n        activeClip = Math.max(activeClip, clipNumber);\r\n      }\r\n    }\r\n    return thumbnailClips[activeClip];\r\n  }\r\n\r\n  static updateThumbnailSrc(activeThumbnail, thumbnailImg) {\r\n    if (activeThumbnail.src && thumbnailImg.src !== activeThumbnail.src) {\r\n      thumbnailImg.src = activeThumbnail.src;\r\n    }\r\n  }\r\n\r\n  static updateThumbnailStyle(activeThumbnail, thumbnailImg) {\r\n    if (activeThumbnail.style && thumbnailImg.style !== activeThumbnail.style) {\r\n      ThumbnailHelpers.createThumbnails(thumbnailImg.style, activeThumbnail.style);\r\n    }\r\n  }\r\n\r\n  static moveListener(event,\r\n                      progressControl,\r\n                      thumbnailsHolder,\r\n                      thumbnailClips,\r\n                      timelineTime,\r\n                      thumbnailImg,\r\n                      player) {\r\n\r\n    const duration = ThumbnailHelpers.getVideoDuration(player);\r\n    const pageXOffset = ThumbnailHelpers.getScrollOffset().x;\r\n    const progresBarPosition = progressControl.children()[0].el().\r\n                               getBoundingClientRect();\r\n\r\n    const progresBarRightOffset = (progresBarPosition.width ||\r\n                                   progresBarPosition.right) +\r\n                                   pageXOffset;\r\n\r\n    const pageMousePositionX = ThumbnailHelpers.getPageMousePositionX(event);\r\n\r\n    let mouseLeftOffset = ThumbnailHelpers.findMouseLeftOffset(pageMousePositionX,\r\n                                                               progressControl.children()[0],\r\n                                                               pageXOffset,\r\n                                                               event);\r\n\r\n    const mouseTime = ThumbnailHelpers.getMouseVideoTime(mouseLeftOffset,\r\n                                                         progressControl.children()[0],\r\n                                                         duration);\r\n\r\n    const activeThumbnail = ThumbnailHelpers.getActiveThumbnail(thumbnailClips,\r\n                                                                mouseTime);\r\n\r\n    ThumbnailHelpers.updateThumbnailTime(timelineTime, progressControl);\r\n\r\n    ThumbnailHelpers.updateThumbnailSrc(activeThumbnail, thumbnailImg);\r\n\r\n    ThumbnailHelpers.updateThumbnailStyle(activeThumbnail, thumbnailImg);\r\n\r\n    mouseLeftOffset = ThumbnailHelpers.keepThumbnailInsidePlayer(thumbnailImg,\r\n                                                activeThumbnail,\r\n                                                thumbnailClips,\r\n                                                mouseLeftOffset,\r\n                                                progresBarRightOffset);\r\n\r\n    ThumbnailHelpers.updateThumbnailLeftStyle(mouseLeftOffset, thumbnailsHolder);\r\n\r\n    //console.log(\"moveListener timelineTime: \" + timelineTime + \", activeThumbnail: \" + activeThumbnail);\r\n    //console.log(\"pageMousePositionX: \" + pageMousePositionX + \", mouseLeftOffset: \" + mouseLeftOffset);\r\n    //console.dir(activeThumbnail);\r\n  }\r\n\r\n  static upadateOnHover(progressControl,\r\n                          thumbnailsHolder,\r\n                          thumbnailClips,\r\n                          timelineTime,\r\n                          thumbnailImg,\r\n                          player) {\r\n\r\n    // update the thumbnail while hovering\r\n    progressControl.on('mousemove', (event) => {\r\n      ThumbnailHelpers.moveListener(event,\r\n                                    progressControl,\r\n                                    thumbnailsHolder,\r\n                                    thumbnailClips,\r\n                                    timelineTime,\r\n                                    thumbnailImg,\r\n                                    player);\r\n    });\r\n    progressControl.on('touchmove', (event) => {\r\n      ThumbnailHelpers.moveListener(event,\r\n                                    progressControl,\r\n                                    thumbnailsHolder,\r\n                                    thumbnailClips,\r\n                                    timelineTime,\r\n                                    thumbnailImg);\r\n    });\r\n  }\r\n\r\n  static hideThumbnail(thumbnailsHolder) {\r\n    thumbnailsHolder.style.left = '-1000px';\r\n  }\r\n\r\n  static upadateOnHoverOut(progressControl, thumbnailsHolder, player) {\r\n\r\n    // move the placeholder out of the way when not hovering\r\n    progressControl.on('mouseout', (event) => {\r\n      ThumbnailHelpers.hideThumbnail(thumbnailsHolder);\r\n    });\r\n    progressControl.on('touchcancel', (event) => {\r\n      ThumbnailHelpers.hideThumbnail(thumbnailsHolder);\r\n    });\r\n    progressControl.on('touchend', (event) => {\r\n      ThumbnailHelpers.hideThumbnail(thumbnailsHolder);\r\n    });\r\n    player.on('userinactive', (event) => {\r\n      ThumbnailHelpers.hideThumbnail(thumbnailsHolder);\r\n    });\r\n  }\r\n}\n\n// Default options for the plugin.\r\nconst defaults = {};\r\n\r\n// Cross-compatibility for Video.js 5 and 6.\r\nconst registerPlugin = videojs.registerPlugin || videojs.plugin;\r\n// const dom = videojs.dom || videojs;\r\n\r\n/**\r\n * Function to invoke when the player is ready.\r\n *\r\n * This is a great place for your plugin to initialize itself. When this\r\n * function is called, the player will have its DOM and child components\r\n * in place.\r\n *\r\n * @function onPlayerReady\r\n * @param    {Player} player\r\n *           A Video.js player.\r\n * @param    {Object} [options={}]\r\n *           An object of options left to the plugin author to define.\r\n */\r\n\r\nconst prepareThumbnailsClips = (videoTime, options) => {\r\n\r\n  let currentTime = 0;\r\n  let currentIteration = 0;\r\n  let thumbnailOffset = 0;\r\n  const stepTime = options.stepTime;\r\n  const thumbnailWidth = options.width;\r\n  const spriteURL = options.spriteUrl;\r\n  const thumbnailClips = {\r\n    0: {\r\n      src: spriteURL,\r\n      style: {\r\n        left: (thumbnailWidth / 2 * -1) + 'px',\r\n        width: ((Math.floor(videoTime / stepTime) + 1) * thumbnailWidth) + 'px',\r\n        clip: 'rect(0,' + options.width + 'px,' + options.width + 'px, 0)'\r\n      }\r\n    }\r\n  };\r\n\r\n  while (currentTime <= videoTime) {\r\n    currentTime += stepTime;\r\n    thumbnailOffset = ++currentIteration * thumbnailWidth;\r\n    thumbnailClips[currentTime] = {\r\n      style: {\r\n        left: ((thumbnailWidth / 2 + thumbnailOffset) * -1) + 'px',\r\n        clip: 'rect(0, ' + (thumbnailWidth + thumbnailOffset) + 'px,' +\r\n              options.width + 'px, ' + thumbnailOffset + 'px)'\r\n      }\r\n    };\r\n  }\r\n  return thumbnailClips;\r\n};\r\n\r\nconst initializeThumbnails = (thumbnailsClips, player) => {\r\n\r\n  const thumbnailClips = ThumbnailHelpers.createThumbnails({}, defaults, thumbnailsClips);\r\n  const progressControl = player.controlBar.progressControl;\r\n  const thumbnailImg = ThumbnailHelpers.createThumbnailImg(thumbnailClips);\r\n  const timelineTime = ThumbnailHelpers.createThumbnailTime();\r\n  const thumbnailArrowDown = ThumbnailHelpers.createThumbnailArrowDown();\r\n  let thumbnaislHolder = ThumbnailHelpers.createThumbnaislHolder();\r\n\r\n  thumbnaislHolder = ThumbnailHelpers.mergeThumbnailElements(thumbnaislHolder,\r\n                                                             thumbnailImg,\r\n                                                             timelineTime,\r\n                                                             thumbnailArrowDown);\r\n  ThumbnailHelpers.hidePlayerOnHoverTime(progressControl);\r\n\r\n  if (global.window.navigator.userAgent.toLowerCase().indexOf('android') !== -1) {\r\n    ThumbnailHelpers.suportAndroidEvents();\r\n  }\r\n\r\n  ThumbnailHelpers.createThumbnails(thumbnailImg.style,\r\n                                    thumbnailClips['0'].style);\r\n\r\n  ThumbnailHelpers.centerThumbnailOverCursor(thumbnailImg);\r\n\r\n  ThumbnailHelpers.addThumbnailToPlayer(progressControl,\r\n                                        thumbnaislHolder);\r\n\r\n  ThumbnailHelpers.upadateOnHover(progressControl,\r\n                                  thumbnaislHolder,\r\n                                  thumbnailClips,\r\n                                  timelineTime,\r\n                                  thumbnailImg,\r\n                                  player);\r\n\r\n  ThumbnailHelpers.upadateOnHoverOut(progressControl,\r\n                                     thumbnaislHolder,\r\n                                     player);\r\n};\r\n\r\nconst onPlayerReady = (player, options) => {\r\n  player.on('loadedmetadata', (() => {\r\n    const thumbnailsClips = prepareThumbnailsClips(player.duration(), options);\r\n\r\n    initializeThumbnails(thumbnailsClips, player);\r\n  }));\r\n};\r\n/**\r\n * A video.js plugin.\r\n *\r\n * In the plugin function, the value of `this` is a video.js `Player`\r\n * instance. You cannot rely on the player being in a \"ready\" state here,\r\n * depending on how the plugin is invoked. This may or may not be important\r\n * to you; if not, remove the wait for \"ready\"!\r\n *\r\n * @function thumbnails\r\n * @param    {Object} [options={}]\r\n *           An object of options left to the plugin author to define.\r\n */\r\nconst thumbnails = function(options) {\r\n  this.ready(() => {\r\n    onPlayerReady(this, videojs.mergeOptions(defaults, options));\r\n  });\r\n};\r\n\r\n// Register the plugin with video.js.\r\nregisterPlugin('thumbnails', thumbnails);\r\n\r\n// Include the version number.\r\nthumbnails.VERSION = '__VERSION__';\n\nmodule.exports = thumbnails;\n"
  ]
}